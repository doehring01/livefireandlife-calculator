<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Net Worth Tracker • FIREandLife</title>
  <link rel="stylesheet" href="/styles.css?v=20250811c" />
  <!-- GA -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KHKJVXPJQM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config','G-KHKJVXPJQM');
  </script>
  <style>
    :root{ --bg:#ffffff; --soft:#f7fafc; --border:#e9edf2; --ink:#0f172a; --muted:#475569; --accent:#ff6b5d; --accent-ink:#fff; }
    body{background:var(--bg); color:var(--ink);}
    .container{max-width:1100px;margin:2rem auto;padding:0 1rem;}
    .grid{display:grid;gap:1rem}
    .grid-12{grid-template-columns:repeat(12,1fr)}
    .span-12{grid-column:span 12} .span-6{grid-column:span 6} .span-4{grid-column:span 4} .span-3{grid-column:span 3}
    .card{background:#fff;border:1px solid var(--border);border-radius:.6rem;padding:1rem}
    .soft{background:var(--soft);border:1px solid var(--border);border-radius:.6rem;padding:1rem}
    .muted{color:var(--muted)}
    table{width:100%;border-collapse:collapse}
    th,td{padding:.55rem;border-bottom:1px solid #eef2f7;vertical-align:middle}
    .actions button{padding:.35rem .55rem;border:1px solid #cbd5e1;border-radius:.35rem;background:#fff}
    .btn{padding:.7rem .9rem;border:none;border-radius:.45rem;background:var(--accent);color:var(--accent-ink);font-size:16px;cursor:pointer}
    .btn.secondary{background:#fff;color:#111;border:1px solid #cbd5e1}
    .tabs{display:flex;gap:.5rem;margin:1rem 0}
    .tabs button{background:#fff;border:1px solid #cbd5e1;border-radius:999px;padding:.5rem .9rem;cursor:pointer}
    .tabs button.active{background:var(--ink);border-color:var(--ink);color:#fff}
    .summary{position:sticky;top:0;z-index:10;background:var(--bg);padding:.5rem 0;margin-bottom:.5rem}
    .accordion > summary{cursor:pointer;list-style:none;padding:.6rem .25rem;border-bottom:1px solid #eef2f7;font-weight:600}
    .accordion[open] > summary{border-bottom:none}
    .backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:1rem;z-index:50}
    .modal{max-width:520px;width:100%;background:#fff;border:1px solid var(--border);border-radius:.7rem;padding:1rem}
    label{display:block;font-weight:600;margin-bottom:.25rem}
    input,select{width:100%;padding:.7rem .75rem;border:1px solid #cfd8e3;border-radius:.4rem;font-size:16px;background:#fff}
    #toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#111;color:#fff;padding:.6rem .9rem;border-radius:.5rem;opacity:0;pointer-events:none;transition:opacity .25s;z-index:60}
    .quick{display:grid;grid-template-columns: 1fr 1fr 2fr 1fr 1fr auto; gap:.5rem; align-items:end}
    .quick .btn{height:42px}
    @media (max-width: 800px){
      .grid-12{grid-template-columns:repeat(6,1fr)}
      .span-6,.span-4,.span-3,.span-12{grid-column:1 / -1}
      .quick{grid-template-columns: 1fr 1fr; }
      .quick .full{grid-column:1 / -1}
    }
  </style>
</head>
<body>
<header>
  <nav style="display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.06);">
    <div class="logo"><img src="/assets/logo-horizontal.png" alt="FIREandLife" style="height:40px;"></div>
    <ul class="nav-links" style="list-style:none;display:flex;gap:1.2rem;margin:0;">
      <li><a href="/">Home</a></li>
      <li><a href="/calculators/" aria-current="page">Calculators</a></li>
      <li><a href="/blog/">Blog</a></li>
      <li><a href="/about/">About</a></li>
      <li><a href="/contact/">Contact</a></li>
    </ul>
  </nav>
</header>

<main class="container">
  <h1>Net Worth Tracker</h1>
  <p class="muted" style="margin:.25rem 0 1rem">Track your accounts privately in your browser. Mark which assets <strong>count toward FI</strong> (home equity/car usually don’t). Snapshot monthly to build your chart.</p>

  <section class="summary grid grid-12">
    <div class="span-3 soft"><strong>Total Assets</strong><div id="totalAssets">$0</div></div>
    <div class="span-3 soft"><strong>Total Liabilities</strong><div id="totalLiabilities">$0</div></div>
    <div class="span-3 soft"><strong>Net Worth</strong><div id="netWorth">$0</div></div>
    <div class="span-3 soft"><strong>FI-Eligible Assets</strong><div id="fiEligibleTotal">$0</div><small class="muted">Items marked “Counts toward FI.”</small></div>
  </section>

  <div class="tabs">
    <button class="active" data-tab="items">Accounts</button>
    <button data-tab="history">History</button>
  </div>

  <!-- Accounts -->
  <section id="tab-items">
    <div class="card" style="margin-bottom:.75rem">
      <h3 style="margin:.25rem 0">Quick add</h3>
      <div class="quick">
        <div>
          <label for="qType">Type</label>
          <select id="qType"><option value="asset">Asset</option><option value="liability">Liability</option></select>
        </div>
        <div>
          <label for="qCategory">Category</label>
          <select id="qCategory">
            <option>Checking</option><option>Savings</option><option>Brokerage</option>
            <option>401k/IRA</option><option>HSA</option><option>Home Equity</option>
            <option>Car</option><option>Other</option>
          </select>
        </div>
        <div class="full">
          <label for="qName">Name</label>
          <input id="qName" type="text" placeholder="e.g., Vanguard Brokerage"/>
        </div>
        <div>
          <label for="qAmount">Amount</label>
          <input id="qAmount" type="number" inputmode="decimal" step="0.01" min="0" value="0"/>
        </div>
        <div>
          <label for="qFi">Counts toward FI?</label>
          <select id="qFi"><option value="yes" selected>Yes</option><option value="no">No</option></select>
        </div>
        <div>
          <label>&nbsp;</label>
          <button id="qAdd" class="btn" type="button">Add</button>
        </div>
      </div>
      <small class="muted" style="display:block;margin-top:.5rem">Tip: Primary home/car are usually <em>not</em> FI-eligible, but you can override.</small>
    </div>

    <div class="grid grid-12">
      <div class="span-6 card">
        <h3 style="margin:.25rem 0">Asset Mix</h3>
        <small class="muted">FI-eligible vs not-eligible highlighted.</small>
        <canvas id="mixChart" height="220" aria-label="Asset mix pie"></canvas>
      </div>
      <div class="span-6 card">
        <details class="accordion" open>
          <summary>Assets</summary>
          <table>
            <thead><tr><th style="text-align:left">Name</th><th>Category</th><th style="text-align:center">FI?</th><th style="text-align:right">Amount</th><th style="text-align:right">Actions</th></tr></thead>
            <tbody id="assetsBody"></tbody>
          </table>
        </details>
        <details class="accordion" open style="margin-top:.5rem">
          <summary>Liabilities</summary>
          <table>
            <thead><tr><th style="text-align:left">Name</th><th>Category</th><th style="text-align:center">—</th><th style="text-align:right">Amount</th><th style="text-align:right">Actions</th></tr></thead>
            <tbody id="liabilitiesBody"></tbody>
          </table>
        </details>
      </div>
    </div>
  </section>

  <!-- History -->
  <section id="tab-history" hidden>
    <div class="card">
      <div style="display:flex;gap:.5rem;flex-wrap:wrap;justify-content:space-between;align-items:center">
        <div>
          <h3 style="margin:.25rem 0">Net Worth History</h3>
          <div class="muted">Snapshot monthly to build your trend.</div>
        </div>
        <div class="row">
          <button class="btn" id="snapshotBtn" type="button">Snapshot this month</button>
          <button class="btn secondary" id="exportCsvBtn" type="button">Export CSV</button>
        </div>
      </div>
      <div style="margin-top:1rem">
        <canvas id="nwChart" height="210" aria-label="Net worth history"></canvas>
      </div>
      <div style="margin-top:1rem;overflow:auto">
        <table>
          <thead><tr><th style="text-align:left">Date</th><th style="text-align:right">Net Worth</th></tr></thead>
          <tbody id="historyBody"></tbody>
        </table>
      </div>
    </div>
  </section>
</main>

<!-- Modal: Edit item -->
<div class="backdrop" id="backdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <h3 id="modalTitle" style="margin:.25rem 0">Edit Item</h3>
    <form id="itemForm" class="grid" style="grid-template-columns:repeat(2,1fr); gap:.75rem; align-items:end">
      <input type="hidden" id="editId" value="">
      <div class="span-12">
        <label for="itemType">Type</label>
        <select id="itemType">
          <option value="asset">Asset</option>
          <option value="liability">Liability</option>
        </select>
      </div>
      <div>
        <label for="itemCategory">Category</label>
        <select id="itemCategory">
          <option>Checking</option><option>Savings</option><option>Brokerage</option>
          <option>401k/IRA</option><option>HSA</option><option>Home Equity</option>
          <option>Car</option><option>Other</option>
        </select>
      </div>
      <div>
        <label for="itemCountsFi">Counts toward FI?</label>
        <select id="itemCountsFi">
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
        <small class="help">Primary home/car usually “No”.</small>
      </div>
      <div class="span-12">
        <label for="itemName">Name</label>
        <input id="itemName" type="text" placeholder="e.g., Vanguard Brokerage" />
      </div>
      <div class="span-12">
        <label for="itemAmount">Amount</label>
        <input id="itemAmount" type="number" inputmode="decimal" step="0.01" min="0" value="0" />
      </div>
      <div class="span-12" style="display:flex;gap:.5rem;flex-wrap:wrap">
        <button class="btn" type="submit" id="saveBtn">Update item</button>
        <button class="btn secondary" type="button" id="cancelBtn">Cancel</button>
      </div>
    </form>
  </div>
</div>

<div id="toast">Saved</div>

<footer><p style="text-align:center;padding:1rem;">&copy; <span id="year"></span> FIRE and Life.</p></footer>

<!-- Load scripts at the very end, in order -->
<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
<script src="/calculators/net-worth-tracker.inline.js" defer></script>
</body>
</html>
