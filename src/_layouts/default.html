<!DOCTYPE html>
<html lang="en">
<head>
  {% include head.html %}
  <title>{% if page.title %}{{ page.title }} â€¢ {% endif %}FIREandLife</title>

  {%- if page.extra_css -%}
    {%- for href in page.extra_css -%}
      <link rel="stylesheet" href="{{ href | relative_url }}">
    {%- endfor -%}
  {%- endif -%}
</head>
<body>
  {% include header.html %}

  <main class="container">
    {{ content }}
  </main>

  {% include footer.html %}

  {%- if page.extra_js -%}
    {%- for src in page.extra_js -%}
      <script src="{{ src | relative_url }}" defer></script>
    {%- endfor -%}
  {%- endif -%}
  <script>
  (function () {
    const toggle = document.getElementById('navToggle');
    const menu   = document.getElementById('navMenu');
    if (!toggle || !menu) return;

    toggle.addEventListener('click', () => {
      const expanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!expanded));
      toggle.setAttribute('aria-label', expanded ? 'Open menu' : 'Close menu');
      menu.dataset.collapsed = expanded ? 'true' : 'false';
      document.body.classList.toggle('nav-open', !expanded);
    });

    // Close on ESC / click-away (mobile)
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && toggle.getAttribute('aria-expanded') === 'true') {
        toggle.click();
      }
    });
    document.addEventListener('click', (e) => {
      if (!menu.contains(e.target) && !toggle.contains(e.target) && toggle.getAttribute('aria-expanded') === 'true') {
        toggle.click();
      }
    });
  })();
</script>
</body>
</html>


