<footer>
  <p style="text-align:center;padding:1rem;">
    &copy; <span id="year"></span> FIRE and Life ·
    <a href="{{ '/privacy/' | relative_url }}">Privacy Policy</a> ·
    <a href="{{ '/terms/' | relative_url }}">Terms</a><br/>
    <small>For educational purposes only. Not financial, tax, or legal advice.</small>
  </p>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
    <div style="margin-top:1rem; text-align:center;">
    <a class="btn-coffee"
       href="https://buymeacoffee.com/FIREandLIFE"
       target="_blank"
       rel="noopener"
       aria-label="Buy Me a Coffee — Support FIREandLife">
      ☕ Buy Me a Coffee
    </a>
  </div>

</footer>

<!-- Shared nav toggle: runs once, works on all pages -->
<script>
(function () {
  // Wait for DOM just to be safe in all layouts
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initNav);
  } else {
    initNav();
  }

  function initNav() {
    var btn  = document.getElementById('navToggle');
    var menu = document.getElementById('navMenu');
    if (!btn || !menu) return;

    function setOpen(open){
      btn.setAttribute('aria-expanded', String(open));
      btn.setAttribute('aria-label', open ? 'Close menu' : 'Open menu');
      menu.classList.toggle('is-open', open);
      document.body.classList.toggle('nav-open', open);
    }

    // Ensure a known initial state
    setOpen(false);

    // Toggle by click
    btn.addEventListener('click', function () {
      var open = btn.getAttribute('aria-expanded') === 'true';
      setOpen(!open);
    });

    // Close with ESC
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape' && btn.getAttribute('aria-expanded') === 'true') setOpen(false);
    });

    // Close when clicking outside or on any menu link
    document.addEventListener('click', function (e) {
      if (btn.getAttribute('aria-expanded') !== 'true') return;
      if (!menu.contains(e.target) && !btn.contains(e.target)) setOpen(false);
    });
    menu.addEventListener('click', function (e) {
      if (e.target.closest('a')) setOpen(false);
    });
  }
})();
</script>

