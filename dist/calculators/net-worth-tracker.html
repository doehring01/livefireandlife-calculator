<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Net Worth & FI Tracker</title>
  <link rel="stylesheet" href="../style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="calculator-container">
    <h2 class="calculator-title">Net Worth & FI Tracker</h2>

    <p class="calculator-description">
      <strong>Net Worth</strong> includes everything you own minus everything you owe. 
      <strong>FI Net Worth</strong> excludes your primary residence, car, or other non-income-generating assets 
      â€” focusing only on assets that can fund your future.
    </p>

    <!-- ASSETS -->
    <h3 class="section-title">Assets</h3>
    <div class="input-group">
      <label class="input-label" for="cash">Cash</label>
      <input class="input-field" type="number" id="cash" placeholder="e.g. 10000" />
      <label><input type="checkbox" class="fi-include" data-id="cash" checked> Include in FI Net Worth</label>
    </div>

    <div class="input-group">
      <label class="input-label" for="investments">Investments</label>
      <input class="input-field" type="number" id="investments" placeholder="e.g. 50000" />
      <label><input type="checkbox" class="fi-include" data-id="investments" checked> Include in FI Net Worth</label>
    </div>

    <div class="input-group">
      <label class="input-label" for="retirement">Retirement Accounts</label>
      <input class="input-field" type="number" id="retirement" placeholder="e.g. 75000" />
      <label><input type="checkbox" class="fi-include" data-id="retirement" checked> Include in FI Net Worth</label>
    </div>

    <div class="input-group">
      <label class="input-label" for="realEstate">Real Estate (not primary home)</label>
      <input class="input-field" type="number" id="realEstate" placeholder="e.g. 120000" />
      <label><input type="checkbox" class="fi-include" data-id="realEstate" checked> Include in FI Net Worth</label>
    </div>

    <div class="input-group">
      <label class="input-label" for="homeValue">Primary Residence</label>
      <input class="input-field" type="number" id="homeValue" placeholder="e.g. 300000" />
      <label><input type="checkbox" class="fi-include" data-id="homeValue"> Include in FI Net Worth</label>
    </div>

    <div class="input-group">
      <label class="input-label" for="carValue">Car(s)</label>
      <input class="input-field" type="number" id="carValue" placeholder="e.g. 20000" />
      <label><input type="checkbox" class="fi-include" data-id="carValue"> Include in FI Net Worth</label>
    </div>

    <!-- LIABILITIES -->
    <h3 class="section-title">Liabilities</h3>
    <div class="input-group">
      <label class="input-label" for="mortgage">Mortgage</label>
      <input class="input-field" type="number" id="mortgage" placeholder="e.g. 250000" />
    </div>

    <div class="input-group">
      <label class="input-label" for="loans">Loans</label>
      <input class="input-field" type="number" id="loans" placeholder="e.g. 15000" />
    </div>

    <div class="input-group">
      <label class="input-label" for="credit">Credit Card Debt</label>
      <input class="input-field" type="number" id="credit" placeholder="e.g. 5000" />
    </div>

    <!-- CALCULATE BUTTON -->
    <div class="input-group">
      <button class="btn" onclick="calculateNetWorth()">Calculate</button>
    </div>

    <!-- RESULTS -->
    <div class="result-container">
      <div class="result-box">
        <p><strong>Total Assets:</strong> $<span id="totalAssets">0</span></p>
        <p><strong>Total Liabilities:</strong> $<span id="totalLiabilities">0</span></p>
        <p><strong>Net Worth:</strong> $<span id="netWorth">0</span></p>
        <p><strong>FI Net Worth:</strong> $<span id="fiNetWorth">0</span></p>
      </div>
    </div>

    <!-- CHART -->
    <div class="result-container">
      <canvas id="netWorthChart" class="chart-style"></canvas>
    </div>
  </div>

  <script>
    function calculateNetWorth() {
      const assetIds = ['cash', 'investments', 'retirement', 'realEstate', 'homeValue', 'carValue'];
      const fiAssetCheckboxes = document.querySelectorAll('.fi-include');
      const liabilities = ['mortgage', 'loans', 'credit'];

      let totalAssets = 0;
      let totalFiAssets = 0;
      let totalLiabilities = 0;

      assetIds.forEach(id => {
        const value = parseFloat(document.getElementById(id).value) || 0;
        totalAssets += value;

        const checkbox = document.querySelector(`.fi-include[data-id="${id}"]`);
        if (checkbox && checkbox.checked) {
          totalFiAssets += value;
        }
      });

      liabilities.forEach(id => {
        const value = parseFloat(document.getElementById(id).value) || 0;
        totalLiabilities += value;
      });

      const netWorth = totalAssets - totalLiabilities;
      const fiNetWorth = totalFiAssets - totalLiabilities;

      document.getElementById('totalAssets').textContent = totalAssets.toLocaleString();
      document.getElementById('totalLiabilities').textContent = totalLiabilities.toLocaleString();
      document.getElementById('netWorth').textContent = netWorth.toLocaleString();
      document.getElementById('fiNetWorth').textContent = fiNetWorth.toLocaleString();

      renderChart(netWorth, fiNetWorth);
    }

    let chart;
    function renderChart(netWorth, fiNetWorth) {
      const ctx = document.getElementById('netWorthChart').getContext('2d');
      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Net Worth', 'FI Net Worth'],
          datasets: [{
            label: 'Amount ($)',
            data: [netWorth, fiNetWorth],
            backgroundColor: ['#f97316', '#22c55e']
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: (context) => `$${context.formattedValue}`
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: (value) => `$${value}`
              }
            }
          }
        }
      });
    }
  </script>
</body>
</html>

